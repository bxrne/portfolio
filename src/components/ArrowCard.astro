---
import type { CollectionEntry } from "astro:content";
import { readingTime } from "@lib/utils";

type Props = {
  entry: any;
}

const { entry } = Astro.props;
---

<a 
  href={entry.collection === "reading" ? entry.data.url : `/${entry.collection}/${entry.slug}`} 
  class="group block border-l-2 border-black pl-3 py-2 hover:bg-neutral-50 transition-colors"
>
  <div class="flex items-start justify-between gap-4">
    <div class="flex-1 min-w-0">
      <div class="font-mono text-sm text-black font-medium">
        {entry.data.title}
      </div>
      <div class="text-xs text-neutral-600 mt-1">
        {entry.collection === "reading" ? entry.data.author : entry.data.description}
      </div>
      <div class="text-xs text-neutral-400 mt-1 font-mono">
        {entry.collection === "reading" ?
          (entry.data.tags ? entry.data.tags.join(" · ") : "") :
          readingTime(entry.body)
        }
      </div>
    </div>
    <div class="text-black opacity-0 group-hover:opacity-100 transition-opacity">
      {entry.collection === "reading" ? "↗" : "→"}
    </div>
  </div>
</a>

